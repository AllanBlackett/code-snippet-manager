(this["webpackJsonpcode-snippet-manager"]=this["webpackJsonpcode-snippet-manager"]||[]).push([[0],{208:function(e,t,n){},220:function(e,t,n){"use strict";n.r(t);var i=n(0),p=n.n(i),a=n(16),r=n.n(a),s=(n(97),n(13)),o=n.n(s),c=n(87),l=n(27),d=n(17),u=n(18),S=n(20),f=n(19),h=n(6),b=function(e){return{root:{backgroundColor:e.palette.background.paper,height:"calc(100% - 35px)",position:"absolute",left:"0",width:"300px",boxShadow:"0px 0px 2px black"},newChatBtn:{borderRadius:"0px"},unreadMessage:{color:"red",position:"absolute",top:"0",right:"5px"},newNoteBtn:{width:"100%",height:"35px",borderBottom:"1px solid black",borderRadius:"0px",backgroundColor:"#29487d",color:"white","&:hover":{backgroundColor:"#88a2ce"}},sidebarContainer:{marginTop:"0px",width:"300px",height:"100%",boxSizing:"border-box",float:"left",overflowY:"scroll",overflowX:"hidden"},newNoteInput:{width:"100%",margin:"0px",height:"35px",outline:"none",border:"none",paddingLeft:"5px","&:focus":{outline:"2px solid rgba(81, 203, 238, 1)"}},newNoteSubmitBtn:{width:"100%",backgroundColor:"#28787c",borderRadius:"0px",color:"white"}}},m=n(238),x=n(237),g=n(239),w=function(e){return{listItem:{cursor:"pointer"},textSection:{maxWidth:"85%"},deleteIcon:{position:"absolute",right:"5px",top:"calc(50% - 15px)","&:hover":{color:"red"}}}},v=n(240),y=n(241),k=n(85),I=n.n(k);var O=function(e){Object(S.a)(n,e);var t=Object(f.a)(n);function n(){var e;Object(d.a)(this,n);for(var i=arguments.length,p=new Array(i),a=0;a<i;a++)p[a]=arguments[a];return(e=t.call.apply(t,[this].concat(p))).selectSnippet=function(t,n){return e.props.selectSnippet(t,n)},e.deleteSnippet=function(t){window.confirm("Are you sure you want to delete: ".concat(t.title,"?"))&&e.props.deleteSnippet(t)},e}return Object(u.a)(n,[{key:"render",value:function(){var e,t=this,n=this.props,i=n._index,a=n._snippet,r=n.classes,s=n.selectedSnippetIndex;return p.a.createElement("div",{key:i},p.a.createElement(v.a,{className:r.listItem,selected:s===i,alignItems:"flex-start"},p.a.createElement("div",{className:r.textSection,onClick:function(){return t.selectSnippet(a,i)}},p.a.createElement(y.a,{primary:a.title,secondary:(e=a.body.substring(0,30),e.replace(/<[^>]*>?/gm,"")+"...")})),p.a.createElement(I.a,{onClick:function(){return t.deleteSnippet(a)},className:r.deleteIcon})))}}]),n}(i.Component),j=Object(h.a)(w)(O),E=function(e){Object(S.a)(n,e);var t=Object(f.a)(n);function n(){var e;return Object(d.a)(this,n),(e=t.call(this)).newSnippetBtnClick=function(){e.setState({title:null,addingSnippet:!e.state.addingSnippet})},e.updateTitle=function(t){e.setState({title:t})},e.newSnippet=function(){e.props.newSnippet(e.state.title),e.setState({title:null,addingSnippet:!1})},e.selectSnippet=function(t,n){return e.props.selectSnippet(t,n)},e.deleteSnippet=function(t){return e.props.deleteSnippet(t)},e.state={addingSnippet:!1,title:null},e}return Object(u.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.snippets,i=t.classes,a=t.selectedSnippetIndex;return n?p.a.createElement("div",{className:i.sidebarContainer},p.a.createElement(x.a,{onClick:this.newSnippetBtnClick,className:i.newSnippetBtn},this.state.addingSnippet?"Cancel":"New snippet"),this.state.addingSnippet?p.a.createElement("div",null,p.a.createElement("input",{type:"text",className:i.newSnippetInput,placeholder:"Enter Snippet title",onKeyUp:function(t){return e.updateTitle(t.target.value)}}),p.a.createElement(x.a,{className:i.newSnippetSubmitBtn,onClick:this.newSnippet},"Submit Snippet")):null,p.a.createElement(m.a,null,n.map((function(t,n){return p.a.createElement("div",{key:n},p.a.createElement(j,{_snippet:t,_index:n,selectedSnippetIndex:a,selectSnippet:e.selectSnippet,deleteSnippet:e.deleteSnippet}),p.a.createElement(g.a,null))})))):p.a.createElement("div",null)}}]),n}(i.Component),C=Object(h.a)(b)(E),B=n(86),N=n.n(B),z=function(e){return{root:{backgroundColor:e.palette.background.paper,height:"calc(100% - 35px)",position:"absolute",left:"0",width:"300px",boxShadow:"0px 0px 2px black"},titleInput:{height:"50px",boxSizing:"border-box",border:"none",padding:"5px",fontSize:"24px",width:"calc(100% - 300px)",backgroundColor:"#29487d",color:"white",paddingLeft:"50px"},editIcon:{position:"absolute",left:"310px",top:"12px",color:"white",width:"10",height:"10"},editorContainer:{height:"100%",boxSizing:"border-box",color:"white"}}},T=function(e){Object(S.a)(n,e);var t=Object(f.a)(n);function n(){var e;return Object(d.a)(this,n),(e=t.call(this)).componentDidMount=function(){e.setState({text:e.props.selectedSnippet.body,title:e.props.selectedSnippet.title,id:e.props.selectedSnippet.id})},e.componentDidUpdate=function(){e.props.selectedSnippet.id!==e.state.id&&e.setState({text:e.props.selectedSnippet.body,title:e.props.selectedSnippet.title,id:e.props.selectedSnippet.id})},e.updateBody=function(){var t=Object(l.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({text:n});case 2:e.update();case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.updateBody=function(){var t=Object(l.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({text:n});case 2:e.update();case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.update=function(e,t,n){var i,p;return function(){function a(){i=null,n||(p=e.apply(r,s))}var r=this,s=arguments;return clearTimeout(i),i=setTimeout(a,t),n&&!i&&(p=e.apply(r,s)),p}}((function(){e.props.snippetUpdate(e.state.id,{title:e.state.title,body:e.state.text})}),1500),e.state={text:"",title:"",id:""},e}return Object(u.a)(n,[{key:"render",value:function(){var e=this.props.classes;return p.a.createElement("div",{className:e.editorContainer},p.a.createElement(N.a,{value:this.state.text,onChange:this.updateBody}))}}]),n}(i.Component),U=Object(h.a)(z)(T),_=(n(208),n(79)),A=function(e){Object(S.a)(n,e);var t=Object(f.a)(n);function n(){var e;return Object(d.a)(this,n),(e=t.call(this)).componentDidMount=function(){_.firestore().collection("snippets").onSnapshot((function(t){var n=t.docs.map((function(e){var t=e.data();return t.id=e.id,t}));console.log(n),e.setState({snippets:n})}))},e.selectSnippet=function(t,n){return e.setState({selectedSnippetIndex:n,selectedSnippet:t})},e.snippetUpdate=function(e,t){_.firestore().collection("snippets").doc(e).update({title:t.title,body:t.body,timestamp:_.firestore.FieldValue.serverTimestamp()})},e.newSnippet=function(){var t=Object(l.a)(o.a.mark((function t(n){var i,p,a,r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i={title:n,body:""},t.next=3,_.firestore().collection("snippets").add({title:i.title,body:i.body,timestamp:_.firestore.FieldValue.serverTimestamp()});case 3:return p=t.sent,a=p.id,t.next=7,e.setState({snippets:[].concat(Object(c.a)(e.state.snippets),[i])});case 7:r=e.state.snippets.indexOf(e.state.snippets.filter((function(e){return e.id===a}))[0]),e.setState({selectedSnippet:e.state.snippets[r],selectedSnippetIndex:r});case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.deleteSnippet=function(){var t=Object(l.a)(o.a.mark((function t(n){var i;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=e.state.snippets.indexOf(n),t.next=3,e.setState({snippets:e.state.snippets.filter((function(e){return e!==n}))});case 3:e.state.selectedSnippetIndex===i?e.setState({selectedSnippetIndex:null,selectedSnippet:null}):e.state.snippets.length>1?e.selectSnippet(e.state.snippets[e.state.selectedSnippetIndex-1],e.state.selectedSnippetIndex-1):e.setState({selectedSnippetIndex:null,selectedSnippet:null}),_.firestore().collection("snippets").doc(n.id).delete();case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.state={selectedSnippetIndex:null,selectedSnippet:null,snippets:null},e}return Object(u.a)(n,[{key:"render",value:function(){return p.a.createElement("div",{className:"app-container"},p.a.createElement(C,{selectedSnippetIndex:this.state.selectedSnippetIndex,snippets:this.state.snippets,deleteSnippet:this.deleteSnippet,selectSnippet:this.selectSnippet,newSnippet:this.newSnippet}),this.state.selectedSnippet?p.a.createElement(U,{selectedSnippet:this.state.selectedSnippet,selectedSnippetIndex:this.state.selectedSnippet,snippets:this.state.snippets,snippetUpdate:this.snippetUpdate}):null)}}]),n}(i.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var D=n(79);n(219),D.initializeApp({apiKey:"AIzaSyDwf5coJqzXgYbXY9JzYElmB_l86_a1GbA",authDomain:"code-snippet-manager-8814b.firebaseapp.com",databaseURL:"https://code-snippet-manager-8814b.firebaseio.com",projectId:"code-snippet-manager-8814b",storageBucket:"code-snippet-manager-8814b.appspot.com",messagingSenderId:"795530527968",appId:"1:795530527968:web:53e4ebb9faac5b024f7c85"}),r.a.render(p.a.createElement(p.a.StrictMode,null,p.a.createElement(A,null)),document.getElementById("csm-container")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},92:function(e,t,n){e.exports=n(220)},97:function(e,t,n){}},[[92,1,2]]]);
//# sourceMappingURL=main.7004a628.chunk.js.map